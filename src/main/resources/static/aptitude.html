<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aptitude Test - EduPath AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

  <div class="max-w-4xl mx-auto p-6">
    <h1 class="text-3xl font-bold mb-6">Aptitude Practice</h1>

    <!-- Topic List -->
    <div id="topicList" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>

    <!-- Question Section -->
    <div id="quizBox" class="hidden mt-8 bg-white p-6 rounded-xl shadow">
      <h2 id="topicTitle" class="text-xl font-bold mb-4"></h2>
      <p id="questionText" class="mb-4"></p>

      <div id="options" class="space-y-2"></div>

      <button onclick="nextQuestion()" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded">Next</button>
    </div>

    <!-- Result -->
    <div id="resultBox" class="hidden mt-8 bg-green-100 p-6 rounded-xl">
      <h2 class="text-xl font-bold">Result</h2>
      <p id="scoreText" class="mt-2"></p>
      <button onclick="goHome()" class="mt-4 bg-black text-white px-6 py-2 rounded">Back to Topics</button>
    </div>
  </div>

<script>

const topics = {
  "Time & Distance": [
    { q: "Speed of 60 km/hr in m/s?", o: ["10", "16.67", "20", "25"], a: 1 },
    { q: "Time to travel 120km at 60km/hr?", o: ["1hr", "2hr", "3hr", "4hr"], a: 1 },
    { q: "Speed = ?", o: ["D/T", "T/D", "D+T", "None"], a: 0 },
    { q: "Distance in 2hr at 40km/hr?", o: ["60", "80", "100", "120"], a: 1 },
    { q: "Convert 36 km/hr to m/s", o: ["5", "10", "15", "20"], a: 1 },
    { q: "If speed doubles, time?", o: ["same", "half", "double", "zero"], a: 1 },
    { q: "Train covers 100m in 10s speed?", o: ["5", "10", "15", "20"], a: 1 },
    { q: "Walking 5km/hr for 2hr distance?", o: ["5", "10", "15", "20"], a: 1 },
    { q: "Time = ?", o: ["D/S", "S/D", "D*T", "None"], a: 0 },
    { q: "Distance = ?", o: ["S*T", "S/T", "T/S", "None"], a: 0 }
  ],

  "Percentage": [
    { q: "50% of 200?", o: ["50", "100", "150", "200"], a: 1 },
    { q: "25% of 80?", o: ["10", "20", "30", "40"], a: 1 },
    { q: "Increase 100 by 10%?", o: ["105", "110", "115", "120"], a: 1 },
    { q: "Decrease 200 by 20%?", o: ["140", "150", "160", "170"], a: 2 },
    { q: "10 is what % of 50?", o: ["10", "20", "30", "40"], a: 1 },
    { q: "200% of 30?", o: ["30", "60", "90", "120"], a: 1 },
    { q: "75% of 40?", o: ["20", "25", "30", "35"], a: 2 },
    { q: "5% of 300?", o: ["10", "15", "20", "25"], a: 1 },
    { q: "Half percent of 200?", o: ["1", "2", "3", "4"], a: 0 },
    { q: "300 increased by 0%?", o: ["0", "100", "300", "600"], a: 2 }
  ],

  "Profit & Loss": [
    { q: "CP=100 SP=120 profit?", o: ["10", "20", "30", "40"], a: 1 },
    { q: "CP=200 SP=180 loss?", o: ["10", "20", "30", "40"], a: 1 },
    { q: "Profit % formula?", o: ["P/CP*100", "CP/SP", "SP/CP", "None"], a: 0 },
    { q: "Loss % formula?", o: ["L/CP*100", "CP/L", "SP/L", "None"], a: 0 },
    { q: "CP=50 SP=75 profit?", o: ["10", "20", "25", "30"], a: 2 },
    { q: "SP>CP means?", o: ["profit", "loss", "equal", "none"], a: 0 },
    { q: "SP<CP means?", o: ["profit", "loss", "equal", "none"], a: 1 },
    { q: "CP=100 profit 50% SP?", o: ["120", "130", "140", "150"], a: 3 },
    { q: "Loss 10% on 200 SP?", o: ["160", "170", "180", "190"], a: 2 },
    { q: "Profit=0 means?", o: ["gain", "loss", "no profit no loss", "none"], a: 2 }
  ],

  "Simple Interest": [
    { q: "SI formula?", o: ["PTR/100", "P+T+R", "PR/T", "None"], a: 0 },
    { q: "SI on 1000 at 10% for 1yr?", o: ["50", "100", "150", "200"], a: 1 },
    { q: "Principal if SI=100 R=10 T=1?", o: ["500", "1000", "1500", "2000"], a: 1 },
    { q: "Rate if SI=200 P=1000 T=1?", o: ["10", "20", "30", "40"], a: 1 },
    { q: "Time if SI=300 P=1000 R=10?", o: ["2", "3", "4", "5"], a: 1 },
    { q: "SI for 2yr double of 1yr?", o: ["yes", "no", "same", "none"], a: 0 },
    { q: "Amount = ?", o: ["P+SI", "P-SI", "SI-P", "None"], a: 0 },
    { q: "SI on 500 at 10% 2yr?", o: ["50", "100", "150", "200"], a: 1 },
    { q: "Zero rate SI?", o: ["0", "100", "200", "500"], a: 0 },
    { q: "Zero time SI?", o: ["0", "10", "20", "30"], a: 0 }
  ],

  "Average": [
    { q: "Average formula?", o: ["Sum/N", "N/Sum", "Sum*N", "None"], a: 0 },
    { q: "Avg of 2,4,6?", o: ["2", "3", "4", "5"], a: 2 },
    { q: "Sum if avg=10 N=5?", o: ["40", "50", "60", "70"], a: 1 },
    { q: "Avg of 10 numbers sum=100?", o: ["5", "10", "15", "20"], a: 1 },
    { q: "New avg after adding number bigger?", o: ["increase", "decrease", "same", "zero"], a: 0 },
    { q: "Avg of equal numbers?", o: ["same number", "zero", "sum", "none"], a: 0 },
    { q: "Total if avg=20 N=2?", o: ["20", "30", "40", "50"], a: 2 },
    { q: "Avg of 5,5,5?", o: ["5", "10", "15", "20"], a: 0 },
    { q: "Remove small number avg?", o: ["increase", "decrease", "same", "zero"], a: 0 },
    { q: "Remove big number avg?", o: ["increase", "decrease", "same", "zero"], a: 1 }
  ]
};

let currentTopic = null;
let qIndex = 0;
let score = 0;

const topicList = document.getElementById("topicList");

for (let topic in topics) {
  const btn = document.createElement("button");
  btn.className = "bg-white p-4 rounded-xl shadow hover:bg-blue-50";
  btn.innerText = topic;
  btn.onclick = () => startQuiz(topic);
  topicList.appendChild(btn);
}

function startQuiz(topic) {
  currentTopic = topic;
  qIndex = 0;
  score = 0;
  document.getElementById("quizBox").classList.remove("hidden");
  document.getElementById("resultBox").classList.add("hidden");
  document.getElementById("topicTitle").innerText = topic;
  showQuestion();
}

function showQuestion() {
  const qData = topics[currentTopic][qIndex];
  document.getElementById("questionText").innerText = `${qIndex + 1}. ${qData.q}`;

  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";

  qData.o.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.className = "block w-full text-left bg-gray-200 p-2 rounded hover:bg-gray-300";
    btn.innerText = opt;
    btn.onclick = () => {
      if (i === qData.a) score++;
      nextQuestion();
    };
    optionsDiv.appendChild(btn);
  });
}

function nextQuestion() {
  qIndex++;

  if (qIndex >= topics[currentTopic].length) {
    showResult();
  } else {
    showQuestion();
  }
}

function showResult() {
  document.getElementById("quizBox").classList.add("hidden");
  document.getElementById("resultBox").classList.remove("hidden");

  const total = topics[currentTopic].length;
  document.getElementById("scoreText").innerText = `You scored ${score} / ${total}`;

  let totalScore = Number(localStorage.getItem("totalScore") || 0);
  let solved = Number(localStorage.getItem("solvedCount") || 0);

  localStorage.setItem("totalScore", totalScore + score);
  localStorage.setItem("solvedCount", solved + total);
}

function goHome() {
  document.getElementById("resultBox").classList.add("hidden");
  document.getElementById("quizBox").classList.add("hidden");
}

</script>

</body>
</html>